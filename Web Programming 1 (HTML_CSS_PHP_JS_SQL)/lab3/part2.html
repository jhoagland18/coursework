<!DOCTYPE html>
<html>
<head>
	<title>Functions</title>
</head>
<body>
	<script>

		/* Test data */
		var minArray = [5, 4, 3, 2, 1,-1];
		var blankArray = [];
		var blankWord = "";
		var str1 = "racecar";
		var str2 = "madame";
		var str3 = "palindrome";
		var str4 = "dood"
		var str5 = "atat"
		var occurArray = ["one", "two", "two", "three", "three", "three"];
		
		/* 
			1. Write a function to find the min in the given array 
		*/
		function findMin(arr) {

			if(arr.length == 0) {
				return undefined;
			}
			var min = Number.MAX_VALUE;

			for(i in arr) {
				value = arr[i]
				if(value<min) {
					min=value;
				}
			}

			return min;
		}

		// call and log the result
		console.log(findMin(minArray));
		console.log(findMin(blankArray));

		/* 
			2. Write a function that returns true if a string is a palindrome, otherwise return false 
		*/
		function isPalindrome(str) {
			var letters = str.split('');
			letters = letters.reverse();
			reverseString = letters.join('');

			if(str==reverseString) {
				return true;
			} else {
				return false;
			}
		}

		console.log(isPalindrome(str1));
		console.log(isPalindrome(str2));
		console.log(isPalindrome(str3));
		console.log(isPalindrome(str4));
		console.log(isPalindrome(str5));
		console.log(isPalindrome(blankWord));



		/* 
			3. Write a function that returns the string that occurs the most in an array 
		*/
		function maxOccurs(arr) {
			if(arr.length==0) {
				return undefined;
			}

			var uniqueWords = {}; //declare a dict to hold word and its number of occurances

			for (var i = 0; i < arr.length; i++) {
				var s = arr[i];

				if(s in uniqueWords) {
					uniqueWords[s]++;
				} else {
					uniqueWords[s]=1;
				}
			}

			var max=0;
			var stringMax = "";

			for(key in uniqueWords) { //identify the most common word
				var numOccurances = uniqueWords[key];
				
				if(numOccurances>max) {
					max = numOccurances;
					stringMax = key;
				}
			}

			return stringMax;
		}

		console.log(maxOccurs(occurArray));
		console.log(maxOccurs(blankArray));

	</script>
</body>
</html>